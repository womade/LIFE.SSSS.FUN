<!DOCTYPE html>
<html lang="zh-CN">
 <head> 
  <meta charset="UTF-8" /> 
  <title>楊遠徵の生命进度条</title> 
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /> 
  <link href="https://cdn.ssss.fun/bootstrap/5.0.1/css/bootstrap.min.css" rel="stylesheet" /> 
  <script src="https://cdn.ssss.fun/vue/2.6.14/vue.min.js"></script> 
  <script src="https://cdn.ssss.fun/jquery/3.6.0/jquery.min.js"></script> 
  <script src="https://cdn.ssss.fun/bootstrap/5.0.1/js/bootstrap.min.js"></script> 
  <style>
        ::-webkit-scrollbar{width: 0px; height: 0px;}
        *{margin: 0; padding: 0;}
        body{
            margin: 0 60px;
            background-color: #F2F5FA;
        }
        b{margin: 3px;}
        p{font-size: 24px;}
        h1{font-size: 55px;}
        h7{font-size: 10px;}
        small{font-size: 16px;}
        .head{margin: 60px 0 0 0;}
        .title {
            height: 300px;
            line-height: 180px;
            text-align: center;
        }
        .title .line {
            display: inline-block;
            width: 80px;
            border-top: 1px solid #ccc ;
        }
        .title .txt {
            color: #333;
            vertical-align: middle;
        }
        .mark{color: #333; border-radius: 10px; text-align: center;}
        #form{width: 100%;}
        .content{
            width: 100%;
            margin: 0 auto;
            padding: 30px;
            border-radius: 16px;
            background-color: #fff; opacity: 0.9;
        }
        .marginbottom{margin-bottom: 18px;}
    </style> 
 </head> 
 <body> 
  <div class="container-fluid container-lg" id="yuanzheng"> 
   <div class="head"> 
    <div class="title"> 
     <span class="line"></span> 
     <img src="YUANZHENG.png" style="width:200px;" title="@楊遠徵" /> 
     <span class="line"></span> 
     <h1><b>楊遠徵</b></h1> 
     <h6><b>YANG YUAN ZHENG</b></h6> 
    </div> 
    <br /> 
    <div> 
     <h2 class="mark">&quot;更好的有很多很多，但刚刚好的只有你一个&quot; </h2> 
    </div> 
   </div> 
   <div class="content"> 
    <div id="form"> 
     <p>我的<b>人生</b>已经走了 <b>{{age}}</b> 个春秋</p> 
     <div v-html="yuanzheng_Life()" class="marginbottom"></div> 
     <p> <span style="text-align: right;">现中国人平均寿命是 77.93 岁<small>（此处按80岁算）</small></span> </p> 
     <p>我可能已经吃过了<b>{{yz_eat}}</b>顿饭，度过了<b>{{yz_week}}</b>个愉快的周末，以及享受过<b>{{yz_day}}</b>个美妙的夜晚</p> 
     <hr style="border-top:1px dashed #987cb9;" width="100%" color="#987cb9" size="1" /> 
     <p>今<b>天</b>已经过去了 <b>{{hour}}</b> 小时 <b>{{minute}}</b> 分 <b>{{second}}</b> 秒</p> 
     <div v-html="yuanzheng_Day()" class="marginbottom"></div> 
     <p>本<b>周</b>已经过去了 <b>{{week}}</b> 天，今天是第 <b>{{curweek}}</b> 天</p> 
     <div v-html="yuanzheng_Week()" class="marginbottom"></div> 
     <p>本<b>月</b>已经过去了 <b>{{day}}</b> 天，今天是第 <b>{{curday}}</b> 天</p> 
     <div v-html="yuanzheng_Month()" class="marginbottom"></div> 
     <p><b>{{year}} 年</b>已经过去了 <b>{{month}}</b> 个月，不知不觉来到了第 <b>{{passday}}</b> 天</p> 
     <div v-html="yuanzheng_Year()" class="marginbottom"></div> 
    </div> 
   </div> 
   <br /> 
   <br /> 
   <br /> 
   <center> 
    <a href="https://i.ssss.fun" target="_blank"><img src="https://s.ssss.fun/ICON/CNYZ/logo-1.svg" alt="中國遠徵" width="108" height="28" /></a> 
   </center> 
   <center> 
    <font color="#999" size="1" face="KaiTi">Copyright 1998 - <script>document.write(new Date().getFullYear());</script><b> 中國遠徵 </b>All rights reserved.</font> 
   </center> 
  </div> 
  <script>
        var vm = new Vue({
            el: '#yuanzheng',
            data: {
                site: "中國遠徵-SOLOGAN",
                age: "",
                life: "",
                lifetime: "80",
                year: "",
                month: "",
                week: "",
                curweek: "",
                day: "",
                curday: "",
                time: "",
                hour: "",
                minute: "",
                second: "",
                passday: "",
                birth_year: "1998",
                birth_month: "03",
                birth_day: "29",
                birth_hour: "21",
                birth_minute: "00",
                birth_second: "00",
                yz_day: "",
                yz_eat: "",
                yz_week: ""
            },
            created: function () {
                this.timer();
                setInterval(this.timer, 1000);
            },
            methods: {
                timer: function() {
                    var myDate = new Date();
                    var myYear = myDate.getFullYear();
                    var myMonth = myDate.getMonth()+1;
                    var myDay = myDate.getDate();
                    var myHours = myDate.getHours();
                    var myMinu = myDate.getMinutes();
                    var mySecond = myDate.getSeconds();
                    var myWeek = myDate.getDay();

                    this.year = myYear;
                    this.month = myMonth-1;
                    this.week = myWeek; this.curweek = myWeek+1;
                    this.day = myDay-1; this.curday=myDay;
                    this.hour = myHours;
                    this.minute = myMinu;
                    this.second = mySecond;
                    this.age = myYear-this.birth_year;
                },
                //life
                yuanzheng_Life:function(){
                    var birthday = new Date(this.birth_year, this.birth_month-1, this.birth_day, this.birth_hour, this.birth_minute, this.birth_second);
                    var today = new Date();
                    var ms = today.getTime() - birthday.getTime();
                    // var ms = parseFloat((today.getTime() - birthday.getTime())/86400000);
                    this.yz_day = parseInt(ms/86400000);
                    this.yz_eat = parseInt(ms/86400000)*3;
                    this.yz_week = parseInt(ms/86400000/7)*2;
                    var life_progress = (parseFloat(ms/86400000/365.25)/this.lifetime*100).toFixed(2);
                    var color = this.yuanzheng_Color(life_progress);
                    return "<div class='progress'> <div class='progress-bar "+ color +" progress-bar-striped progress-bar-animated' style='width:"+ life_progress +"%'>"+ life_progress +" %</div> </div>";
                },
                //今天
                yuanzheng_Day:function(){
                    var DAY = ((this.hour*60+this.minute)/24/60*100).toFixed(2);
                    var color = this.yuanzheng_Color(DAY);
                    return "<div class='progress'> <div class='progress-bar "+ color +" progress-bar-striped progress-bar-animated' style='width:"+ DAY +"%'>"+ DAY +" %</div> </div>";
                },
                //本周
                yuanzheng_Week:function(){
                    var curdayWithHour = (this.week*24*60+this.hour*60+this.minute)/7/24/60;
                    var WEEK = (curdayWithHour*100).toFixed(2);
                    var color = this.yuanzheng_Color(WEEK);
                    return "<div class='progress'> <div class='progress-bar "+ color +" progress-bar-striped progress-bar-animated' style='width:"+ WEEK +"%'>"+ WEEK +" %</div> </div>";
                },
                //本月
                yuanzheng_Month:function(){
                    var days=new Date(this.year,this.month+1,0).getDate();
                    var MONTH = ((this.day*24*60+this.hour*60+this.minute)/days/24/60*100).toFixed(2);
                    var color = this.yuanzheng_Color(MONTH);
                    return "<div class='progress'> <div class='progress-bar "+ color +" progress-bar-striped progress-bar-animated"+ color +"' style='width:"+ MONTH +"%'>"+ MONTH +" %</div> </div>";
                },
                //本年
                yuanzheng_Year:function(){
                    var olddate = new Date(this.year, 0);
                    var nowdate = new Date(this.year,this.month,this.day+1);
                    var passday = (nowdate - olddate) / (1000 * 60 * 60 * 24) + 1;
                    this.passday = passday;
                    var isLeap = (0===this.year%4) && (0===this.year%100) || (0===this.year%400);
                    var days = isLeap ? 366 : 365;//今年的天数
                    var YEAR = (((passday-1)*24*60 + this.hour*60+ this.minute)/days/24/60*100).toFixed(2);
                    var color = this.yuanzheng_Color(YEAR);
                    return "<div class='progress'> <div class='progress-bar "+ color +" progress-bar-striped progress-bar-animated"+ color +"' style='width:"+ YEAR +"%'>"+ YEAR +" %</div> </div>";
                },
                yuanzheng_Color: function (value) {
                    // 绿 bg-success
                    // 蓝 bg-info
                    // 黄 bg-warning
                    // 红 bg-danger
                    if (value >= 80) {
                        return 'bg-danger';
                    }else if(value >= 50 && value<80){
                        return 'bg-warning';
                    }else if(value >= 20 && value<50){
                        return 'bg-info';
                    }else {
                        return 'bg-success';
                    }
                }
            }
        })
    </script>  
 </body>
</html>